

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>ImageJ: Channels &amp; colors &#8212; Introduction to Bioimage Analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script data-domain="bioimagebook.github.io" defer="defer" src="https://plausible.io/js/script.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/1-concepts/4-colors/imagej';</script>
    <link rel="canonical" href="https://bioimagebook.github.io/chapters/1-concepts/4-colors/imagej.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Python: Channels &amp; colors" href="python.html" />
    <link rel="prev" title="Channels &amp; colors" href="colors.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/book-logo-smaller.png" class="logo__image only-light" alt="Introduction to Bioimage Analysis - Home"/>
    <script>document.write(`<img src="../../../_static/book-logo-smaller.png" class="logo__image only-dark" alt="Introduction to Bioimage Analysis - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    Introduction to Bioimage Analysis
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Front matter</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../0-preamble/acknowledgements/acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0-preamble/license.html">License &amp; Reuse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0-preamble/disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../CHANGELOG.html">Changelog</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Before we begin</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../0-preamble/preface/preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../0-preamble/reading/reading.html">How to read this book</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Introducing images</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../1-images_and_pixels/images_and_pixels.html">Images &amp; pixels</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../1-images_and_pixels/imagej.html">ImageJ: Images &amp; pixels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1-images_and_pixels/python.html">Python: Images &amp; pixels</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../2-measurements/measurements.html">Measurements &amp; histograms</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-measurements/imagej.html">ImageJ: Measurements &amp; histograms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-measurements/python.html">Python: Measurements &amp; histograms</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../3-bit_depths/bit_depths.html">Types &amp; bit-depths</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../3-bit_depths/imagej.html">ImageJ: Types &amp; bit-depths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-bit_depths/python.html">Python: Types &amp; bit-depths</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="colors.html">Channels &amp; colors</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">ImageJ: Channels &amp; colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html">Python: Channels &amp; colors</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../5-pixel_size/pixel_size.html">Pixel size &amp; dimensions</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../5-pixel_size/imagej.html">ImageJ:  Pixel size &amp; dimensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-pixel_size/python.html">Python:  Pixel size &amp; dimensions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../6-files/files.html">Files &amp; file formats</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../6-files/imagej.html">ImageJ: Files &amp; file formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../6-files/python.html">Python: Files &amp; file formats</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Processing &amp; analysis</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../2-processing/1-processing_and_analysis/processing_and_analysis.html">Image processing &amp; analysis</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../2-processing/2-point_operations/point_operations.html">Point operations</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../2-processing/2-point_operations/imagej.html">ImageJ: Point operations</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../2-processing/3-thresholding/thresholding.html">Thresholding</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../2-processing/3-thresholding/imagej.html">ImageJ: Thresholding</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../2-processing/4-filters/filters.html">Filters</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../2-processing/4-filters/imagej.html">ImageJ: Filters</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../2-processing/5-morph/morph.html">Morphological operations</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../2-processing/5-morph/imagej.html">ImageJ: Morphological operations</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../2-processing/6-transforms/transforms.html">Image transforms</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../2-processing/6-transforms/imagej.html">ImageJ: Image transforms</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../2-processing/7-multidimensional_processing/multidimensional_processing.html">Multidimensional processing</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../2-processing/7-multidimensional_processing/imagej.html">ImageJ: Multidimensional processing</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Fluorescence microscopy</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../3-fluorescence/1-formation_overview/formation_overview.html">From photons to pixels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../3-fluorescence/2-formation_spatial/formation_spatial.html">Blur &amp; the PSF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../3-fluorescence/3-formation_noise/formation_noise.html">Noise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../3-fluorescence/4-microscope_types/microscope_types.html">Microscopes &amp; detectors</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../appendices/next_steps/next_steps.html">Beyond this book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/python/python.html">Python Primer</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../appendices/macros/macro_intro.html">ImageJ: Writing macros</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/macros/macro_dog.html">Difference of Gaussians</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/macros/macro_simulating.html">Simulating image formation</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/bioimagebook/bioimagebook.github.io/main?urlpath=tree/chapters/1-concepts/4-colors/imagej.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/chapters/1-concepts/4-colors/imagej.ipynb" target="_blank"
   class="btn btn-sm btn-download-notebook-button dropdown-item"
   title="Download notebook file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li><a href="../../../_sources/chapters/1-concepts/4-colors/imagej.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>ImageJ: Channels & colors</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rgb-vs-multichannel">RGB vs. Multichannel</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-channels">Working with channels</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-to-rgb">Converting to RGB</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="imagej-channels-colors">
<span id="chap-imagej-colors"></span><h1>ImageJ: Channels &amp; colors<a class="headerlink" href="#imagej-channels-colors" title="Permalink to this heading">#</a></h1>
<div class="cell tag_hide-cell tag_thebe-init docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2

<span class="c1"># Default imports</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;../../../&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">helpers</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">myst_nb</span> <span class="kn">import</span> <span class="n">glue</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">ndimage</span>
</pre></div>
</div>
</div>
</details>
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>ImageJ has good support for both RGB and multichannel images, but the behavior is not always obvious.
This section explains the ideas, including common areas of confusion.</p>
</section>
<section id="rgb-vs-multichannel">
<h2>RGB vs. Multichannel<a class="headerlink" href="#rgb-vs-multichannel" title="Permalink to this heading">#</a></h2>
<p>ImageJ treats RGB as a special image type, even though it is still <a class="reference internal" href="../3-bit_depths/imagej.html#chap-bit-depths-imagej"><span class="std std-ref">8-bit unsigned integer</span></a>.
There are several ways to recognize that an image has the type ‘RGB’:</p>
<ul class="simple">
<li><p>The text <em>RGB</em> appears at the top of the image window</p></li>
<li><p><span class="menuselection notranslate">Image ‣ Type ‣ RGB Color</span> is selected</p></li>
<li><p>When moving the cursor over the image, there are <em>three</em> values shown in the status bar (e.g. <em>value=127,127,127</em>) instead of one</p></li>
</ul>
<p>Multichannel images that <em>aren’t</em> RGB are recognizable because they have an extra slider at the bottom, with a small <span class="guilabel notranslate">C</span> label, which is used to switch the ‘active’ channel.
The <span class="menuselection notranslate">Image ‣ Type ‣ </span> will be <span class="menuselection notranslate">8-bit</span>, <span class="menuselection notranslate">16-bit</span> or <span class="menuselection notranslate">32-bit</span>.</p>
<div class="cell tag_hide-cell tag_remove-output docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">create_figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/neuron-composite.png&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">121</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/neuron-rgb.png&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">122</span><span class="p">)</span>
<span class="n">glue_fig</span><span class="p">(</span><span class="s1">&#39;fig_color_neuron&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<figure class="align-center" id="fig-color-neuron">
<img alt="../../../_images/282db6cda30f9d5a8dec91a6748d338a788ca1abeef53373e76d2a8a85fa4911.png" src="../../../_images/282db6cda30f9d5a8dec91a6748d338a788ca1abeef53373e76d2a8a85fa4911.png" />
<figcaption>
<p><span class="caption-number">Fig. 32 </span><span class="caption-text">A multichannel image (left) and RGB image (right).
The colors used to display the image are identical, but other aspects of the image window indicate that the images themselves are quite different.</span><a class="headerlink" href="#fig-color-neuron" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The distinction is really important when it comes to measurements and histograms, because the behavior between RGB and multichannel images is subtly different:</p>
<ul class="simple">
<li><p><strong>Multichannel images:</strong></p>
<ul>
<li><p><span class="menuselection notranslate">Analyze ‣ Measure</span> uses the active channel only, based on the <span class="guilabel notranslate">C</span> slider</p></li>
<li><p><span class="menuselection notranslate">Analyze ‣ Histogram</span> uses either uses the active channel only or all channels, after prompting the user to choose</p></li>
<li><p><span class="menuselection notranslate">Image ‣ Adjust ‣ Brightness/Contrast…</span> can be used to adjust the brightness &amp; contrast for the active channel</p></li>
<li><p>It is possible to change LUTs independently for each channel</p></li>
</ul>
</li>
<li><p><strong>RGB images:</strong></p>
<ul>
<li><p><span class="menuselection notranslate">Analyze ‣ Measure</span> converts the image to have a single 8-bit channel before making measurements</p></li>
<li><p><span class="menuselection notranslate">Analyze ‣ Histogram</span> creates a histogram after converting the image as above, but also provides an <span class="guilabel notranslate">RGB</span> button to also view separate histograms for the red, green and blue channels</p></li>
<li><p><span class="menuselection notranslate">Image ‣ Adjust ‣ Brightness/Contrast…</span> can only be used to adjust the brightness &amp; contrast for all channels simultaneously</p></li>
<li><p>It is <em>not</em> possible to change LUTs per channel</p></li>
</ul>
</li>
</ul>
<p>When it comes to measuring an RGB image, the enigmatic statement above that ImageJ ‘converts the image’ is explained (in more detail than you might want) <a class="reference internal" href="#sec-colors-converts"><span class="std std-ref">at the end</span></a>.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Practical</label><div class="sd-tab-content docutils">
<p>Explore several of the images under <span class="menuselection notranslate">File ‣ Open Samples ‣</span> and identify which are treated by ImageJ as RGB, which as multichannel, and which have just a single channel.
There is only one correct answer per image.</p>
<p><strong>Note 1:</strong> Here, ‘RGB’ means that ImageJ treats the image has having the special ‘RGB’ image type.
It’s possible for a multichannel image to have three channels with red, green and blue LUTs, but Imagej doesn’t consider it to be RGB.
You should therefore use the rules given above to distinguish images RGB from multichannel.</p>
<p><strong>Note 2:</strong> At the time I write this, the sample images don’t work for me properly in Fiji – but they do work in ImageJ.
Hopefully the Fiji bug will be fixed before you read this.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Image</p></th>
<th class="head text-center"><p>RGB</p></th>
<th class="head text-center"><p>Multichannel</p></th>
<th class="head text-center"><p>Single channel</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="menuselection notranslate">Leaf</span></p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
</tr>
<tr class="row-odd"><td><p><span class="menuselection notranslate">Fluorescent Cells</span></p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
</tr>
<tr class="row-even"><td><p><span class="menuselection notranslate">Cardio (RGB Dicom)</span></p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
</tr>
<tr class="row-odd"><td><p><span class="menuselection notranslate">HeLa Cells (48-bit RGB)</span></p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
</tr>
<tr class="row-even"><td><p><span class="menuselection notranslate">Fly Brain</span></p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
</tr>
<tr class="row-odd"><td><p><span class="menuselection notranslate">Image with Overlay</span></p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
<td class="text-center"><p>?</p></td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="https://ij.imjoy.io"><img alt="launch ImageJ.JS" src="https://ij.imjoy.io/assets/badge/launch-imagej-js-badge.svg" /></a></p>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Solution</label><div class="sd-tab-content docutils">
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Image</p></th>
<th class="head text-center"><p>RGB</p></th>
<th class="head text-center"><p>Multichannel</p></th>
<th class="head text-center"><p>Single channel</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="menuselection notranslate">Leaf</span></p></td>
<td class="text-center"><p>X</p></td>
<td class="text-center"><p></p></td>
<td class="text-center"><p></p></td>
</tr>
<tr class="row-odd"><td><p><span class="menuselection notranslate">Fluorescent Cells</span></p></td>
<td class="text-center"><p></p></td>
<td class="text-center"><p>X</p></td>
<td class="text-center"><p></p></td>
</tr>
<tr class="row-even"><td><p><span class="menuselection notranslate">Cardio (RGB Dicom)</span></p></td>
<td class="text-center"><p>X</p></td>
<td class="text-center"><p></p></td>
<td class="text-center"><p></p></td>
</tr>
<tr class="row-odd"><td><p><span class="menuselection notranslate">HeLa Cells (48-bit RGB)</span></p></td>
<td class="text-center"><p></p></td>
<td class="text-center"><p>X</p></td>
<td class="text-center"><p></p></td>
</tr>
<tr class="row-even"><td><p><span class="menuselection notranslate">Fly Brain</span></p></td>
<td class="text-center"><p>X</p></td>
<td class="text-center"><p></p></td>
<td class="text-center"><p></p></td>
</tr>
<tr class="row-odd"><td><p><span class="menuselection notranslate">Image with Overlay</span></p></td>
<td class="text-center"><p></p></td>
<td class="text-center"><p></p></td>
<td class="text-center"><p>X</p></td>
</tr>
</tbody>
</table>
<p>There are several awkward images:</p>
<ul class="simple">
<li><p><span class="menuselection notranslate">HeLa Cells (48-bit RGB)</span> is <em>not</em> treated as having the RGB type… and ImageJ doesn’t have a ‘48-bit’ type either! Here, 48-bit RGB means that we actually have three 16-bit channels with red, green and blue LUTs. For ImageJ, that’s not really an RGB image, it’s a multichannel image. Don’t expect too much consistency in naming: always check the types!</p></li>
<li><p><span class="menuselection notranslate">Fly Brain</span> has a slider, but it doesn’t have a <span class="guilabel notranslate">C</span> label. This is because the slider isn’t for channels, but rather for <em>z</em>-slices. We will meet <em>z</em>-slices in the <a class="reference internal" href="../5-pixel_size/pixel_size.html#chap-dimensions"><span class="std std-ref">next chapter</span></a>.</p></li>
<li><p><span class="menuselection notranslate">Image with Overlay</span> looks colorful, but the colors all come from the <a class="reference internal" href="../2-measurements/imagej.html#sec-imagej-overlay"><span class="std std-ref">overlay</span></a> – not from the image being RGB. Admittedly, the name helps here.</p></li>
</ul>
</div>
</div>
</section>
<section id="working-with-channels">
<h2>Working with channels<a class="headerlink" href="#working-with-channels" title="Permalink to this heading">#</a></h2>
<p>There are several useful commands for working with color channels under <span class="menuselection notranslate">Image ‣ Color ‣ </span>.
Some of these, such as <span class="menuselection notranslate">Image ‣ Color ‣ Split channels</span> and <span class="menuselection notranslate">Image ‣ Color ‣ Merge channels</span> are quite intuitive, and work for both RGB and multichannel images.</p>
<p>One of the most useful commands that requires some explanation is <span class="menuselection notranslate">Image ‣ Color ‣ Channels Tool…</span> <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Shift</kbd>+<kbd class="kbd docutils literal notranslate">Z</kbd></kbd>.
If you run the <span class="menuselection notranslate">Channels Tool…</span> command for an RGB image and try to do anything, ImageJ will ask</p>
<img alt="../../../_images/channels-tool-composite.png" class="align-center" src="../../../_images/channels-tool-composite.png" />
<p>Agreeing to the prompt will convert the RGB image to a multichannel image.</p>
<p>The question might be a little bit confusing because ‘composite’ and ‘multichannel’ do not quite mean the same thing, although they are sometimes used interchangeably with ImageJ.
To be more precise, a ‘composite image’ in this context is a multichannel image that is displayed using a particular <strong>display mode</strong>.</p>
<p>ImageJ has three main modes for displaying multichannel images, accessible from the drop-down menu of the <em>Channels Tool</em> dialog:</p>
<ul class="simple">
<li><p><span class="guilabel notranslate">Composite</span> – Merge some or all the channels together for display. Currently, this works with up to 7 or 8 channels (depending on software version; an extra one was added recently). Individual channels can be turned on and off.</p></li>
<li><p><span class="guilabel notranslate">Color</span> – View the ‘active’ channel only, using its original color LUT. You can switch the channel with the slider below the image.</p></li>
<li><p><span class="guilabel notranslate">Grayscale</span> – Similar to <span class="guilabel notranslate">Color</span>, except always using a grayscale LUT.</p></li>
</ul>
<p>Whenever a channel is active, the LUT can be changed using options in the <em>Channels Tool</em> dialog – or the <span class="menuselection notranslate">Image ‣ Lookup Tables ‣ </span> submenu as usual.
Similarly, <span class="menuselection notranslate">Image ‣ Adjust ‣ Brightness/Contrast…</span> works on the active channel to update the LUT.</p>
<div class="cell tag_remove-output tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">create_figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/composite_all.jpg&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Composite image&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">141</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/composite_red.jpg&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Red channel&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">142</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/composite_green.jpg&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Green channel&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">143</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/composite_blue.jpg&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Blue channel&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">144</span><span class="p">)</span>
<span class="n">glue_fig</span><span class="p">(</span><span class="s1">&#39;fig_color_composite&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<figure class="align-center" id="fig-fiji-composite">
<img alt="../../../_images/62934003687c43677e3e87adc7f88bc704b34c43b25b488b97b80e10b1873473.png" src="../../../_images/62934003687c43677e3e87adc7f88bc704b34c43b25b488b97b80e10b1873473.png" />
<figcaption>
<p><span class="caption-number">Fig. 33 </span><span class="caption-text">ImageJ multichannel image sample <em>Fluorescent Cells</em>. Using the <span class="menuselection notranslate">Image ‣ Color ‣ Channels Tool…</span> and the slider at the bottom of the window, you can view the channels individually or simultaneously.</span><a class="headerlink" href="#fig-fiji-composite" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The way in which <span class="guilabel notranslate">Composite</span> mode works is that an RGB image is effectively created for each channel based on its LUT, and the red, green and blue values are <em>added</em> together to get the final output color (clipping at 255 if needed).</p>
<p>This isn’t the only way to generate a composite image, and it doesn’t work well for all LUTs – particular LUTs that map low pixel values to bright colors or white.</p>
<p>Therefore, since ImageJ 1.53o some additional composite modes were added to the <span class="menuselection notranslate">Channels Tool…</span>, and refined over the next few releases after a long (and occasionally testy) discussion on <a class="reference external" href="http://image.sc">image.sc</a>.
At the time of writing, the available modes are:</p>
<ul class="simple">
<li><p><span class="guilabel notranslate">Composite Max</span> – Similar to <span class="guilabel notranslate">Composite</span>, except use the <em>maximum</em> of the red, green and blue values across all channels (not the sum)</p></li>
<li><p><span class="guilabel notranslate">Composite Min</span> – Similar to <span class="guilabel notranslate">Composite Max</span>, except use the <em>minimum</em> of the red, green and blue values across all channels (not the maximum)</p></li>
<li><p><span class="guilabel notranslate">Composite Invert</span> – Similar to <span class="guilabel notranslate">Composite</span>, except <em>subtract</em> the red, green and blue LUT values instead of adding them</p></li>
</ul>
<p>Both <span class="guilabel notranslate">Composite Min</span> and <span class="guilabel notranslate">Composite Invert</span> are useful for LUTs with light backgrounds, therefore if you select one of these options ImageJ may flip a LUT to have a light background if needed.</p>
<div class="cell tag_remove-output tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">create_figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/composite_neuron_default.jpg&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Composite&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">141</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/composite_neuron_max.jpg&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Composite Max&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">142</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/composite_neuron_min.jpg&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Composite Min&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">143</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">(</span><span class="s1">&#39;images/composite_neuron_invert.jpg&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Composite Invert&#39;</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="mi">144</span><span class="p">)</span>
<span class="n">glue_fig</span><span class="p">(</span><span class="s1">&#39;fig_color_composite_new&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<figure class="align-center" id="fig-fiji-composite-new">
<img alt="../../../_images/35b369543ebb6432a4579e4d969e21775a271e6395ca4cddac976d3fc32104d5.png" src="../../../_images/35b369543ebb6432a4579e4d969e21775a271e6395ca4cddac976d3fc32104d5.png" />
<figcaption>
<p><span class="caption-number">Fig. 34 </span><span class="caption-text">Visualizing the new composite modes.</span><a class="headerlink" href="#fig-fiji-composite-new" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="danger admonition">
<p class="admonition-title">Be careful with composites!</p>
<p>Any new visualization modes have the potential to cause confusion or to be abused.
Although the new composite modes can be useful, I advise caution.</p>
<p>The original <span class="guilabel notranslate">Composite</span> mode is really well established, and is the default.
If you use any of the ‘new’ composite modes in a figure for publication, you should clearly specify which.</p>
</div>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<img alt="../../../_images/fluorescent_cells_orig_crop.jpg" src="../../../_images/fluorescent_cells_orig_crop.jpg" />
</aside>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<img alt="../../../_images/fluorescent_cells_cb_crop.jpg" src="../../../_images/fluorescent_cells_cb_crop.jpg" />
</aside>
<div class="info admonition">
<p class="admonition-title">Choosing channel colors</p>
<p>By changing the LUTs, channels can be assigned any color you like. Although red/green images are widespread, especially for colocalization, they are particularly unhelpful for colorblindness.
More accessible images can be created by switching the LUTs of at least one channel to something more suitable (e.g.
Red → Magenta) – although displaying both channels separately is better still.</p>
<p>You can also test the effects of different colors using the Fiji command <span class="menuselection notranslate">Image ‣ Color ‣ Simulate Color Blindness</span> (note that this may require converting the image to RGB first).</p>
<p>More information about generating figures with suitable colors is available at <a class="reference external" href="https://www.nature.com/articles/nmeth.1618">https://www.nature.com/articles/nmeth.1618</a>.</p>
</div>
</section>
<section id="converting-to-rgb">
<span id="sec-imagej-flatten"></span><h2>Converting to RGB<a class="headerlink" href="#converting-to-rgb" title="Permalink to this heading">#</a></h2>
<p>As described in <a class="reference internal" href="colors.html#chap-colors"><span class="std std-ref">Channels &amp; colors</span></a>, one of the most important uses of RGB images is to create a compatible image for display in different software.
We will see more about how to save such images in <a class="reference internal" href="../6-files/files.html#chap-files"><span class="std std-ref">Files &amp; file formats</span></a>.</p>
<p>It should be possible to convert any image to RGB using <span class="menuselection notranslate">Image ‣ Type ‣ RGB Color</span>.
However, my preferred way to create an RGB image for display is usually <span class="menuselection notranslate">Image ‣ Overlay ‣ Flatten</span> <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Shift</kbd>+<kbd class="kbd docutils literal notranslate">F</kbd></kbd>.
This not only converts the image, but also incorporates any ROIs or overlays into the RGB version.
Flattening is similar to taking a screenshot of the image as it currently appears, except unaffected by the current zoom level or field of view.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-2">
Question</label><div class="sd-tab-content docutils">
<p>ImageJ has two different copying commands, <span class="menuselection notranslate">Edit ‣ Copy</span> and <span class="menuselection notranslate">Edit ‣ Copy to System</span>.
Why?</p>
<p><strong>Note:</strong> When investigating this, you should explore <span class="menuselection notranslate">Edit ‣ Paste</span>, alongside two commands in the <span class="menuselection notranslate">File ‣ New ‣</span> submenu.
Be on the lookout for any conversions.</p>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-3">
Answer</label><div class="sd-tab-content docutils">
<p><span class="menuselection notranslate">Edit ‣ Copy</span> allows you to copy part of an individual image slice (i.e. a 2D part of a particular color channel) and paste it into another image while exactly preserving the original image type and pixel values.
You can also use <span class="menuselection notranslate">File ‣ New ‣ Internal Clipboard</span> to get the copied region (but <span class="menuselection notranslate">Image ‣ Duplicate…</span> is usually a better option).
However, this image type might well not be compatible with other software, therefore images copied in this way cannot be accessed outside ImageJ.</p>
<p><span class="menuselection notranslate">Edit ‣ Copy to System</span> is needed if you want to copy an image to the system clipboard so that it can be pasted into other software.
However, be warned that this converts the image to RGB in the process.
If therefore preserves the image appearance, but not necessarily the pixel values.</p>
</div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-4">
Practical</label><div class="sd-tab-content docutils">
<p>You can test the compatibility of composite and RGB images by opening <span class="menuselection notranslate">File ‣ Open Samples ‣ HeLa Cells</span> image, and saving it using <span class="menuselection notranslate">File ‣ Save As ‣ Tiff…</span> both before and after running <span class="menuselection notranslate">Image ‣ Type ‣ RGB Color</span> to convert the original 16-bit composite data to RGB.</p>
<p>Try then opening both saved images in other software (e.g. Microsoft PowerPoint®) and compare their appearance.</p>
<p><a class="reference external" href="https://ij.imjoy.io/?run=https://gist.github.com/petebankhead/a45e4eed3a90b6374ec7b272db090ec9"><img alt="launch ImageJ.JS" src="https://ij.imjoy.io/assets/badge/open-in-imagej-js-badge.svg" /></a></p>
</div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-5" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-5">
Practical</label><div class="sd-tab-content docutils">
<p>Think of at least 2 ways in which converting a composite image to RGB can lose information.</p>
<p>You can explore this by comparing the images <em>Neuron-composite.tif</em> and
<em>Neuron-RGB.tif</em>.
The <span class="menuselection notranslate">Image ‣ Color ‣ Split Channels</span> command should help.</p>
<p><a class="reference external" href="https://ij.imjoy.io/?open=https://github.com/bioimagebook/practical-data/blob/main/images/Neuron-composite.tif&amp;open=https://github.com/bioimagebook/practical-data/blob/main/images/Neuron-RGB.tif"><img alt="launch ImageJ.JS" src="https://ij.imjoy.io/assets/badge/open-in-imagej-js-badge.svg" /></a></p>
</div>
<input id="sd-tab-item-6" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-6">
Solution</label><div class="sd-tab-content docutils">
<p>One way that converting an image to RGB can lose information is if the original data is 16-bit before conversion and 8-bit afterwards, causing rounding and/or clipping to occur (see <a class="reference internal" href="../3-bit_depths/bit_depths.html#chap-bit-depths"><span class="std std-ref">Types &amp; bit-depths</span></a>).</p>
<p>Another is that during conversion the channels have been forced to be purely red, green and blue.
But perhaps they were not originally so, and separate channels have been merged into the same ones.
If you had started with more than three channels, this will definitely have occurred, but even if you had fewer channels you can have problems (like in the <em>Neuron_composite.tif</em> and <em>Neuron_RGB.tif</em> examples).</p>
<p>The trouble with <em>only</em> having an RGB image is that it is no longer possible to know for sure what the original data looked like, to be able to figure out whether anything has been lost.
For example, perhaps you have managed to generate a magnificent image consisting of turquoise, yellow and dazzling pink channels.
Each pixel is displayed on screen as a combination of those colors.
However, precisely the same color for any pixel can also be represented – rather more simply – as a mixture of red, green and blue.
So no matter what channels and colors you began with, the final result after merging can be replicated using red, green and blue channels.
But if you <em>only</em> have the RGB version, you might never be able to extract the original 3 channels again.
Their colors could be so mixed together that the original pixel values would be irretrievably lost.</p>
<p>And so the good things about RGB images are that they look identical to the original image you had before conversion, and other software (e.g. webbrowsers or PowerPoint®) can understand them effortlessly.
But the <em>potentially very bad</em> thing about RGB images is that creating them requires conversion, and after this it might very well be <em>impossible</em> to regain the original pixel values.</p>
</div>
</div>
<hr class="docutils" />
<div class="admonition-how-rgb-images-are-converted-how-i-find-out-what-i-can-t-remember admonition" id="sec-colors-converts">
<p class="admonition-title">How RGB images are converted / How I find out what I can’t remember</p>
<p>When describing how <span class="menuselection notranslate">Analyze ‣ Measure</span> handles RGB image, I said that it converts the image first.</p>
<p>‘Converts the image’ is a fairly vague statement for a very good reason: I only have a vague awareness of how it works, because I’ve never needed to know it.
RGB images aren’t good for quantification anyway, so I don’t often have any reason to measure pixel values within them.</p>
<p>I admit this to give reassurance that there’s a good chance you don’t need to know it either.
So if you find the rest of this box confusing, don’t worry.</p>
<p><strong>However,</strong> it also gives an opportunity to make a bigger point: there are too many intricacies within ImageJ to remember all of them.
And that’s fine.
I believe that a far more important skill is knowing how to investigate what is happening.</p>
<p>And so here is how I set about understanding what ‘converts the image’ means.</p>
<p>Firstly, I created an RGB image with 50x50 pixels known values for red (0), green (100) and blue (200).</p>
<img alt="../../../_images/blue.png" class="align-center" src="../../../_images/blue.png" />
<p><strong>If</strong> the conversion is simply averaging the red, green and blue values then I would expect the result of running <span class="menuselection notranslate">Analyze ‣ Measure</span> to be 100 (since that is the mean of 0, 100 and 200).
When I tested it, I found that was the case.
I tried some other values, and they all behaved the same way: it appears that conversion is simply averaging the channels.</p>
<p>I then hypothesised that I should get the same thing if I use <span class="menuselection notranslate">Image ‣ Type ‣ 8-bit</span>.
So I tried that out, and again it matched expectations.</p>
<p>So I concluded that <span class="menuselection notranslate">Analyze ‣ Measure</span> was quietly calling <span class="menuselection notranslate">Image ‣ Type ‣ 8-bit</span> on a copy of the image, and then measuring <em>that</em>.</p>
<p>Or maybe it’s calling <span class="menuselection notranslate">Image ‣ Type ‣ 32-bit</span> instead?</p>
<p>I needed a new image that would show the effects of rounding, so I added 1 to the blue channel, making its values 201.</p>
<img alt="../../../_images/blue2.png" class="align-center" src="../../../_images/blue2.png" />
<p>I then tried <span class="menuselection notranslate">Image ‣ Type ‣ 32-bit</span>, which gave the expected average of 100.33.
But <span class="menuselection notranslate">Image ‣ Type ‣ 8-bit</span> still gave 100 per pixel – because it is limited to integers.
And <span class="menuselection notranslate">Analyze ‣ Measure</span> also gave me 100 – which suggest that it converts the RGB images to 8-bit, not floating point, when making its measurements.</p>
<p>Finally, I remembered that ImageJ sometimes sneaks in extra options.
So I opened <span class="menuselection notranslate">Edit ‣ Options ‣ Conversions…</span> and found a checkbox for <span class="menuselection notranslate">Weighted RGB conversion</span>.
If I selected it, and repeated the steps above I got quite different answers – because it no longer converts using a straight ‘average of the 3 channels’.
Rather, each channel is weighted: 0.30 x Red + 0.59 x Green + 0.11 x Blue.</p>
<p>Pondering the weights took me down a googling rabbit hole to see these are (somewhat) standard weight values for grayscale image conversion used across different software.
But, more importantly, I saw that the <span class="menuselection notranslate">Weighted RGB conversion</span> option affected <em>both</em> measurement and conversion – supporting my suspicion that they are connected.</p>
<p>Confused?
Me too.</p>
<p><strong>But</strong> my main point is that mortals like me can’t predict what software is going to do.
Even if we think we know, there’s a chance some sneaky option somewhere is changing the behavior.</p>
<p>What we <em>can</em> do is foster a critical mind.
We can learn enough about the software to know how to test what it is doing.</p>
<p>And that, at least, is how I learned to use ImageJ and came to write this book.</p>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "bioimagebook/bioimagebook.github.io",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters/1-concepts/4-colors"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="colors.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Channels &amp; colors</p>
      </div>
    </a>
    <a class="right-next"
       href="python.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Python: Channels &amp; colors</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rgb-vs-multichannel">RGB vs. Multichannel</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-channels">Working with channels</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-to-rgb">Converting to RGB</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Pete Bankhead
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022-2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
All content is licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY 4.0</a>, except where noted otherwise.
See <a href="https://bioimagebook.github.io/chapters/0-preamble/license.html" target="_blank">License & Reuse</a> for details.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>