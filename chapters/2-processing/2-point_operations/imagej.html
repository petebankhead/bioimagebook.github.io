
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ImageJ: Point operations &#8212; Introduction to Bioimage Analysis</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mycss.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Thresholding" href="../3-thresholding/thresholding.html" />
    <link rel="prev" title="Point operations" href="point_operations.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script defer data-domain="bioimagebook.github.io" src="https://plausible.io/js/plausible.js"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/book-logo-smaller.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Bioimage Analysis</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../README.html">
                    Introduction to Bioimage Analysis
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Front matter
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/acknowledgements/acknowledgements.html">
   Acknowledgements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/license.html">
   License
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/disclaimer.html">
   Disclaimer
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Before we begin
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/preface/preface.html">
   Preface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../0-preamble/reading/reading.html">
   How to read this book
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introducing images
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../1-concepts/1-images_and_pixels/images_and_pixels.html">
   Images &amp; pixels
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/1-images_and_pixels/imagej.html">
     ImageJ: Images &amp; pixels
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/1-images_and_pixels/python.html">
     Python: Images &amp; pixels
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../1-concepts/2-measurements/measurements.html">
   Measurements &amp; histograms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/2-measurements/imagej.html">
     ImageJ: Measurements &amp; histograms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/2-measurements/python.html">
     Python: Measurements &amp; histograms
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../1-concepts/3-bit_depths/bit_depths.html">
   Types &amp; bit-depths
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/3-bit_depths/imagej.html">
     ImageJ: Types &amp; bit-depths
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/3-bit_depths/python.html">
     Python: Types &amp; bit-depths
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../1-concepts/4-colors/colors.html">
   Channels &amp; colors
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/4-colors/imagej.html">
     ImageJ: Channels &amp; colors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/4-colors/python.html">
     Python: Channels &amp; colors
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../1-concepts/5-pixel_size/pixel_size.html">
   Pixel size &amp; dimensions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/5-pixel_size/imagej.html">
     ImageJ:  Pixel size &amp; dimensions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/5-pixel_size/python.html">
     Python:  Pixel size &amp; dimensions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../1-concepts/6-files/files.html">
   Files &amp; file formats
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/6-files/imagej.html">
     ImageJ: Files &amp; file formats
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../1-concepts/6-files/python.html">
     Python: Files &amp; file formats
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Processing &amp; analysis
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../1-processing_and_analysis/processing_and_analysis.html">
   Image processing &amp; analysis
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="point_operations.html">
   Point operations
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     ImageJ: Point operations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../3-thresholding/thresholding.html">
   Thresholding
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../3-thresholding/imagej.html">
     ImageJ: Thresholding
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../4-filters/filters.html">
   Filters
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../4-filters/imagej.html">
     ImageJ: Filters
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../5-morph/morph.html">
   Morphological operations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-morph/imagej.html">
     ImageJ: Morphological operations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../6-transforms/transforms.html">
   Image transforms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../6-transforms/imagej.html">
     ImageJ: Image transforms
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../7-multidimensional_processing/multidimensional_processing.html">
   Multidimensional processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../7-multidimensional_processing/imagej.html">
     ImageJ: Multidimensional processing
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Fluorescence microscopy
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../3-fluorescence/1-formation_overview/formation_overview.html">
   From photons to pixels
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../3-fluorescence/2-formation_spatial/formation_spatial.html">
   Blur &amp; the PSF
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../3-fluorescence/3-formation_noise/formation_noise.html">
   Noise
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../3-fluorescence/4-microscope_types/microscope_types.html">
   Microscopes &amp; detectors
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendices/next_steps/next_steps.html">
   Beyond this book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../appendices/python/python.html">
   Python Primer
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../appendices/macros/macro_intro.html">
   ImageJ: Writing macros
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../appendices/macros/macro_dog.html">
     Difference of Gaussians
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../appendices/macros/macro_simulating.html">
     Simulating image formation
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/bioimagebook/bioimagebook.github.io/main?urlpath=tree/chapters/2-processing/2-point_operations/imagej.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/chapters/2-processing/2-point_operations/imagej.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download notebook file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        <a href="../../../_sources/chapters/2-processing/2-point_operations/imagej.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-we-begin">
   Before we begin
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#duplicating-images">
     Duplicating images
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#converting-to-32-bit">
     Converting to 32-bit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#point-operations-for-single-images">
   Point operations for single images
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#image-inversion">
     Image inversion
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-image-calculator">
   The Image Calculator
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>ImageJ: Point operations</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#before-we-begin">
   Before we begin
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#duplicating-images">
     Duplicating images
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#converting-to-32-bit">
     Converting to 32-bit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#point-operations-for-single-images">
   Point operations for single images
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#image-inversion">
     Image inversion
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-image-calculator">
   The Image Calculator
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="imagej-point-operations">
<h1>ImageJ: Point operations<a class="headerlink" href="#imagej-point-operations" title="Permalink to this headline">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>This section introduces image processing with ImageJ.
It shows where to find the main point operations, including some tips (and warnings) about their use, along with a few exercises to try them out.</p>
</section>
<section id="before-we-begin">
<h2>Before we begin<a class="headerlink" href="#before-we-begin" title="Permalink to this headline">#</a></h2>
<p>Before we embark on processing pixels, there are a couple of things we need to know how to do in preparation.</p>
<section id="duplicating-images">
<h3>Duplicating images<a class="headerlink" href="#duplicating-images" title="Permalink to this headline">#</a></h3>
<p>One of the most important ImageJ shortcuts to learn is <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Shift</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">D</kbd></kbd> to <strong>duplicate the image</strong>.
This applies the command <span class="menuselection">Image ‣ Duplicate…</span>.</p>
<p>Being able to quickly duplicate an image matters for two main reasons:</p>
<ol class="simple">
<li><p>We often want to process duplicates of an image in different ways, and then combine or compare the results.</p></li>
<li><p>Mistakes happen, and <span class="menuselection">Edit ‣ Undo</span> is rather limited; it can undo <em>some</em> processing steps applied to a single image slice, but not always… and it can’t undo operations applied to image stacks</p></li>
</ol>
<p>When working with an image in ImageJ, I almost always have at least one duplicate lingering around for when when things inevitably go wrong.</p>
<p>But <span class="menuselection">Image ‣ Duplicate…</span> has an extra, hidden bonus: it’s supports extracting just a part of the image.
This is controlled both by any ROI and by selecting subsets of channels, z-slices or time points where relevant.
I frequently use duplication as a way to extract the channel from an image, as a more convenient alternative to <span class="menuselection">Image ‣ Color ‣ Split Channels</span>.</p>
<a class="reference internal image-reference" href="../../../_images/imagej-points-duplicate.png"><img alt="../../../_images/imagej-points-duplicate.png" class="align-center" src="../../../_images/imagej-points-duplicate.png" style="width: 60%;" /></a>
<div class="admonition-why-can-t-imagej-s-undo-undo-much admonition">
<p class="admonition-title">Why can’t ImageJ’s ‘Undo’ undo much?</p>
<p>Implementing ‘undo’ in software is quite tricky.
Especially in flexible software that enables the user to do a lot of different things.</p>
<p>When it comes to image processing, undo effectively requires the software to quietly duplicate the pixel values of an image before any processing step, so that they can be recovered later if needed.
For a small image, that can work fine.
But for big images (say, 1 GB or more), duplicating that much data could <em>significantly</em> slow down the software and potentially result in lots of out-of-memory errors.</p>
<p>ImageJ provides some very limited undo support for 2D slices, but it’s best not to rely on it.
In general, it’s left up to the user to decide when duplicating is necessary.
If you suspect you might regret a processing step, then it’s best to always duplicate the image beforehand with <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Shift</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">D</kbd></kbd>.</p>
</div>
</section>
<section id="converting-to-32-bit">
<h3>Converting to 32-bit<a class="headerlink" href="#converting-to-32-bit" title="Permalink to this headline">#</a></h3>
<p>The second thing I often do when processing an image in ImageJ is to <a class="reference internal" href="../../1-concepts/3-bit_depths/bit_depths.html#sec-bits-type"><span class="std std-ref">convert it to 32-bit floating point</span></a>, using <span class="menuselection">Image ‣ Type ‣ 32-bit</span>.</p>
<p>This isn’t <em>always</em> essential, but we will soon see examples where the type of the image makes a difference to the result.
So you should always at least consider converting.</p>
</section>
</section>
<section id="point-operations-for-single-images">
<h2>Point operations for single images<a class="headerlink" href="#point-operations-for-single-images" title="Permalink to this headline">#</a></h2>
<p>Many point operations for single images are found in the <span class="menuselection">Process ‣ Math ‣</span> submenu.
At the top of the list come the arithmetic operations: <span class="menuselection">Add…</span>, <span class="menuselection">Subtract…</span>, <span class="menuselection">Multiply…</span> and <span class="menuselection">Divide…</span>.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<img alt="../../../_images/spooked.png" src="../../../_images/spooked.png" />
</aside>
<div class="sd-tab-set docutils">
<input checked="checked" id="264712e5-b193-497a-b5de-94b15247b7c4" name="1adfee6c-aaec-4261-bbe7-efbffae2b3fa" type="radio">
</input><label class="sd-tab-label" for="264712e5-b193-497a-b5de-94b15247b7c4">
Practical</label><div class="sd-tab-content docutils">
<p>Open the image <em>Spooked_16-bit.tif</em>, and apply <em>only</em> the following steps:</p>
<ul class="simple">
<li><p>Measure the mean pixel value of the image</p></li>
<li><p>Subtract 600 from all pixel values</p></li>
<li><p>Add 600 to all pixel values</p></li>
<li><p>Measure the mean pixel value of the image</p></li>
</ul>
<p><em>Mathematically</em>, you should get the same mean measurements.
Can you explain the result?</p>
<p><a class="reference external" href="https://ij.imjoy.io?open=https://github.com/bioimagebook/practical-data/blob/main/images/Spooked_16-bit.tif"><img alt="launch ImageJ.JS" src="https://ij.imjoy.io/assets/badge/launch-imagej-js-badge.svg" /></a></p>
</div>
<input id="a537ee69-b48b-4af9-a5d1-6ec157a932dd" name="1adfee6c-aaec-4261-bbe7-efbffae2b3fa" type="radio">
</input><label class="sd-tab-label" for="a537ee69-b48b-4af9-a5d1-6ec157a932dd">
Solution</label><div class="sd-tab-content docutils">
<p>Firstly, the commands you need to run are:</p>
<ul class="simple">
<li><p><span class="menuselection">Analyze ‣ Measure</span>, or press <kbd class="kbd docutils literal notranslate">M</kbd></p></li>
<li><p><span class="menuselection">Process ‣ Math ‣ Subtract…</span> with the value 600</p></li>
<li><p><span class="menuselection">Process ‣ Math ‣ Add…</span> with the value 600</p></li>
<li><p><span class="menuselection">Analyze ‣ Measure</span>, or press <kbd class="kbd docutils literal notranslate">M</kbd></p></li>
</ul>
<p>When I do this, I get the following results table:</p>
<img alt="../../../_images/points-spooked-subtraction.png" class="align-center" src="../../../_images/points-spooked-subtraction.png" />
<p>The reason the mean values differ is because we have a 16-bit image.
After subtraction, any values that were less than 600 become clipped to zero.
All these become 600 after the addition, pushing up the overall mean.</p>
<p>If you didn’t see this effect, then I would guess you had the foresight to run <span class="menuselection">Image ‣ Type ‣ 32-bit</span>.
If you do this, the mean values match after all.</p>
</div>
</div>
<p>The <span class="menuselection">Process ‣ Math ‣ Log…</span> and <span class="menuselection">Process ‣ Math ‣ Gamma…</span> commands implement the log and gamma transforms respectively.
The gamma transform is more common, since it contains an adjustable gamma parameter that can be used to tune the effect.</p>
<div class="warning admonition">
<p class="admonition-title">Beware of the bit-depth with nonlinear transforms!</p>
<p>When applying gamma or log transforms to 8-bit or 16-bit images, ImageJ applies some additional (linear) rescaling to the result so that the output falls within the range supported by the image.</p>
<p>This rescaling isn’t needed for 32-bit images.
This means that if you apply either command to a 32-bit image then it can seem that the image disappears.
You’ll need to follow up by using <span class="menuselection">Image ‣ Adjust ‣ Brightness/Contrast…</span> to reset the LUT display range to see the output properly.</p>
</div>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<img alt="../../../_images/spooked-gamma.png" src="../../../_images/spooked-gamma.png" />
</aside>
<div class="sd-tab-set docutils">
<input checked="checked" id="e1d855b2-bfd1-4846-94b3-3652d17e56dc" name="4daf7952-eae3-4335-9bfc-4f30f07ace9e" type="radio">
</input><label class="sd-tab-label" for="e1d855b2-bfd1-4846-94b3-3652d17e56dc">
Practical</label><div class="sd-tab-content docutils">
<p>Explore the use of <span class="menuselection">Process ‣ Math ‣ Gamma…</span> for enhancing the contrast of <em>Spooked_16-bit.tif</em>.</p>
<p>If you want to see both the human and the ghost, should the gamma value be less than 1, equal to 1, or greater than 1?</p>
<p><strong>Tip:</strong> To get a feeling for how the values are changing, create a histogram of the image first and press the <span class="guilabel">Live</span> button on the histogram.
Then run the gamma command, turn on the <span class="guilabel">Preview</span> option and adjust the slider.
You should now see a live update of how changing the gamma affects the pixel values.</p>
<p><a class="reference external" href="https://ij.imjoy.io?open=https://github.com/bioimagebook/practical-data/blob/main/images/Spooked_16-bit.tif"><img alt="launch ImageJ.JS" src="https://ij.imjoy.io/assets/badge/launch-imagej-js-badge.svg" /></a></p>
</div>
<input id="e35ab648-cc19-4507-9ee7-9f299158f14e" name="4daf7952-eae3-4335-9bfc-4f30f07ace9e" type="radio">
</input><label class="sd-tab-label" for="e35ab648-cc19-4507-9ee7-9f299158f14e">
Solution</label><div class="sd-tab-content docutils">
<p>The gamma needs to be less than 1.</p>
<p>When the gamma is equal to 1, it isn’t doing anything at all.
When it is greater than 1, it’s applying a non-linear adjustment – but not one that really helps in this case.</p>
</div>
</div>
<section id="image-inversion">
<h3>Image inversion<a class="headerlink" href="#image-inversion" title="Permalink to this headline">#</a></h3>
<p>The <span class="menuselection">Edit ‣ Invert</span> command implements image inversion.</p>
<div class="danger admonition">
<p class="admonition-title">Inverting images or inverting LUTs?</p>
<p><span class="menuselection">Edit ‣ Invert</span> should not be confused with the <span class="menuselection">Image ‣ Lookup Tables ‣ Invert LUT</span> command, which inverts the LUT but <em>does nothing to the pixel values!</em></p>
<p>Moreover, whether the LUT is inverted can be saved inside the file – and so you could potentially open an image and find its LUT was inverted before you even started to do anything, and thereby misjudge whether structures are really brighter or darker than everything else.</p>
<p><span class="menuselection">File ‣ Open samples ‣ Blobs</span> is an example of this.
It took a long time before I realized that the pixel values inside the blobs are higher than the background, because of the sneaky inverted LUT.
As is often the case, the signs of an inverted LUT are evident in the text at the top of an image window.</p>
<a class="reference internal image-reference" href="../../../_images/points-blobs-inverting.png"><img alt="../../../_images/points-blobs-inverting.png" class="align-center" src="../../../_images/points-blobs-inverting.png" style="width: 50%;" /></a>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="dc70af5e-ad60-44f3-995a-c47d5b5087c2" name="52988c6b-5870-41b9-b920-75242949f556" type="radio">
</input><label class="sd-tab-label" for="dc70af5e-ad60-44f3-995a-c47d5b5087c2">
Practical</label><div class="sd-tab-content docutils">
<p><span class="menuselection">Edit ‣ Invert</span> works differently when applied to different image types.
Like in the 8-bit case, pixel values are always subtracted from some ‘maximum’.</p>
<p>How this maximum is determined for 16 and 32-bit images in ImageJ?</p>
<p><strong>Note:</strong> the methods used for 16 and 32-bit images are different from one another!</p>
<p><a class="reference external" href="https://ij.imjoy.io/?open=https://github.com/bioimagebook/practical-data/blob/main/images/Spooked_16-bit.tif&amp;open=https://github.com/bioimagebook/practical-data/blob/main/images/happy_cell.tif"><img alt="launch ImageJ.JS" src="https://ij.imjoy.io/assets/badge/open-in-imagej-js-badge.svg" /></a></p>
</div>
<input id="526a2d2c-4f20-46fb-ae78-db8cc3213a9e" name="52988c6b-5870-41b9-b920-75242949f556" type="radio">
</input><label class="sd-tab-label" for="526a2d2c-4f20-46fb-ae78-db8cc3213a9e">
Solution</label><div class="sd-tab-content docutils">
<p>When I first wrote this question, to invert a 16-bit image pixel were subtracted from <em>the maximum value within the original image</em>.
This is also true for stacks: the maximum value in the entire stack is found.</p>
<p>Since ImageJ v1.53k, the maximum value of 65535 is used… unless you happen to have a different <span class="guilabel">Unsigned 6-bit range</span> value specified via the <span class="guilabel">Set</span> button via the <em>Brightness &amp; Contrast</em> dialog.
I only know about this sneaky alternative option through the <a class="reference external" href="https://imagej.nih.gov/ij/notes.html">ImageJ release notes</a>.</p>
<p>For 32-bit image inversion, the pixels are subtracted from the <em>display maximum</em>, i.e. whatever maximum is set in the <span class="menuselection">Image ‣ Adjust ‣ Brightness/Contrast…</span> dialog box.
Consequently, <em>inverting a 32-bit image can give different results each time it is applied if the contrast settings are not kept the same!</em></p>
<p>I personally dislike this unpredictable weirdness.
I would happily apply <span class="menuselection">Edit ‣ Invert</span> to an 8-bit image.
For anything else, I’d generally rather convert to 32-bit and multiply by -1 – so that I know the results should be repeatable, regardless of brightess &amp; contrast settings.</p>
</div>
</div>
</section>
</section>
<section id="the-image-calculator">
<h2>The Image Calculator<a class="headerlink" href="#the-image-calculator" title="Permalink to this headline">#</a></h2>
<p><span class="menuselection">Process ‣ Math ‣ Image Calculator…</span> is used to combine two images in various ways.
It is one of ImageJ’s most indispensable commands.</p>
<figure class="align-center" id="id1">
<img alt="../../../_images/points-image-calculator.png" src="../../../_images/points-image-calculator.png" />
<figcaption>
<p><span class="caption-number">Fig. 60 </span><span class="caption-text">The <em>Image Calculator…</em> dialog</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>But beware of the bit-depth and type!
If any of the original images are 8 or 16-bit, then the result might require clipping or rounding, in which case selecting the option to create a <span class="guilabel">32-bit (float) result</span> may be necessary to get the expected output.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="6c7bbc6e-f9e9-4e12-97fe-5ca3168f3641" name="10d60a52-7609-46c4-bb91-f93b94f2bf8d" type="radio">
</input><label class="sd-tab-label" for="6c7bbc6e-f9e9-4e12-97fe-5ca3168f3641">
Practical</label><div class="sd-tab-content docutils">
<p><span class="menuselection">Process ‣ Math ‣ Image Calculator…</span> finally makes it possible for us to check whether the pixel values of two images are all identical – without relying on summary measurements or histograms.</p>
<p>Use it to determine which two of the images <em>Same_1.tif</em>, <em>Same_2.tif</em> and <em>Same_3.tif</em> are identical in terms of pixel values.</p>
<p><a class="reference external" href="https://ij.imjoy.io/?open=https://github.com/bioimagebook/practical-data/blob/main/images/Same_1.tif&amp;open=https://github.com/bioimagebook/practical-data/blob/main/images/Same_2.tif&amp;open=https://github.com/bioimagebook/practical-data/blob/main/images/Same_3.tif"><img alt="launch ImageJ.JS" src="https://ij.imjoy.io/assets/badge/open-in-imagej-js-badge.svg" /></a></p>
</div>
<input id="c6f154e2-0e63-4a90-b03b-aa42af740499" name="10d60a52-7609-46c4-bb91-f93b94f2bf8d" type="radio">
</input><label class="sd-tab-label" for="c6f154e2-0e63-4a90-b03b-aa42af740499">
Answer</label><div class="sd-tab-content docutils">
<p>My preferred way to check this is to subtract the images from one another, making sure that the result is 32-bit (in case there are negative values). Doing this should reveal something hidden in the image <em>Same_2.tif</em>.
Note that the contrast settings differ between <em>Same_1.tif</em> and <em>Same_3.tif</em>, so they may <em>look</em> different.</p>
<p>(Note that the calculator’s <span class="guilabel">Difference</span> or <span class="guilabel">Divide</span> commands could also be used.
<span class="guilabel">XOR</span> would work as well, but its output is harder to interpret since it involves comparing individual bits used to store each pixel value and gives an output where all matching bits are 0 and all non-matching bits are 1.
When converted back into actual decimal values and then to colors for us to look at, this can appear strange.
But at least if the resulting image is not completely black then we know that the original input images were not identical.)</p>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "bioimagebook/bioimagebook.github.io",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters/2-processing/2-point_operations"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="point_operations.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Point operations</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../3-thresholding/thresholding.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Thresholding</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Pete Bankhead<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>